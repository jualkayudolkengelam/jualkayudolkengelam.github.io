{% comment %}
  ============================================================================
  Studi Kasus Proyek Block Component
  ============================================================================

  @file        _includes/block--studi-kasus-proyek.html
  @description Reusable component for project case studies with categorized examples

  @version     1.0.0
  @date        2025-11-19
  @author      jualkayudolkengelam

  Features:
  ---------
  - H2 heading for SEO with dynamic city
  - 3 project categories (Komersial, Residensial, Publik)
  - Multiple project cards per category
  - Each card: title, year, description, specs, results
  - H3 for categories, H4 for project titles, H5 for subsections
  - Consultation CTA at the end
  - Flexible array structure

  Parameters:
  -----------
  - page.nama_kota: City name for dynamic content
  - page.studi_kasus_proyek: Object containing:
    - proyek_komersial: Array of commercial projects
    - proyek_residensial: Array of residential projects
    - proyek_publik: Array of public projects
    Each project item:
    - judul: Project title
    - tahun: Year (e.g., "2024")
    - deskripsi: Project description
    - jumlah: Number of poles (e.g., "60 batang")
    - diameter: Diameter range (e.g., "8-10 cm")
    - hasil: Result/advantage text
    - warna: Card header color (primary, warning, danger, success, info, secondary)
    - icon: Bootstrap icon class

  Usage:
  ------
  In frontmatter:
  ---
  nama_kota: Semarang
  studi_kasus_proyek:
    proyek_komersial:
      - judul: "Gazebo Cafe di Kota Lama"
        tahun: "2024"
        deskripsi: "Pembangunan gazebo outdoor untuk cafe heritage..."
        jumlah: "60 batang"
        diameter: "8-10 cm"
        hasil: "Sesuai konsep heritage dan tahan kelembaban tinggi"
        warna: "primary"
        icon: "bi-building"
    proyek_residensial:
      - judul: "Pagar Villa di Tembalang"
        tahun: "2024"
        deskripsi: "Pemasangan pagar kayu dolken untuk villa..."
        # ... similar structure
    proyek_publik:
      - judul: "Taman Kota Area Tanjung Mas"
        # ... similar structure
  ---

  In content:
  <section id="studi-kasus-proyek">
    {% include block--studi-kasus-proyek.html %}
  </section>

  ============================================================================
{% endcomment %}

{% if page.studi_kasus_proyek %}
<!-- Header Section -->
<div class="my-5">
  <div class="card border-0 shadow-lg">
    <div class="card-body text-white text-center py-4 px-3" style="background: linear-gradient(135deg, #06b6d4 0%, #0891b2 50%, #0e7490 100%);">
      <i class="bi bi-briefcase-fill mb-2 fs-2-5rem"></i>
      <h2 class="h2 mb-0 fw-bold text-white">Studi Kasus Proyek{% if page.nama_kota %} {{ page.nama_kota }}{% endif %}</h2>
      <p class="mb-0 mt-2 small" style="opacity: 0.85;">
        <i class="bi bi-star me-1"></i>
        Proyek nyata menggunakan kayu dolken gelam berkualitas
        <i class="bi bi-star ms-1"></i>
      </p>
    </div>
  </div>
</div>

{% if page.studi_kasus_proyek.proyek_komersial %}
<!-- H3: Kategori Proyek Komersial -->
<div class="my-4">
  <div class="d-flex align-items-center mb-3">
    <div class="bg-primary bg-opacity-10 px-3 py-2 rounded-3 flex-grow-1">
      <h3 class="h4 mb-0 text-wood fw-bold">
        <i class="bi bi-building text-primary me-2"></i>Proyek Komersial
      </h3>
      <p class="small text-muted mb-0 mt-1">Aplikasi kayu dolken gelam untuk bisnis dan usaha{% if page.nama_kota %} di {{ page.nama_kota }}{% endif %}</p>
    </div>
  </div>

  <div class="row g-4">
    {% for proyek in page.studi_kasus_proyek.proyek_komersial %}
    <!-- H4: Project Title -->
    <div class="col-md-6">
      <div class="card border-0 shadow-sm h-100 hover-lift">
        <div class="card-header bg-{{ proyek.warna | default: 'primary' }} text-white">
          <div class="d-flex align-items-center">
            <i class="bi {{ proyek.icon | default: 'bi-building' }} me-2 fs-1-5rem"></i>
            <div>
              <h4 class="h5 mb-0 fw-bold">{{ proyek.judul }}</h4>
              {% if proyek.tahun %}<small style="opacity: 0.85;">{{ proyek.tahun }}</small>{% endif %}
            </div>
          </div>
        </div>
        <div class="card-body">
          {% if proyek.deskripsi %}
          <p class="small mb-3">{{ proyek.deskripsi }}</p>
          {% endif %}

          <!-- H5: Spesifikasi Proyek -->
          <h5 class="h6 fw-bold text-wood mb-2">
            <i class="bi bi-clipboard-data me-1"></i>Spesifikasi Proyek
          </h5>
          <div class="row g-2 mb-3">
            <div class="col-6">
              <div class="bg-light p-2 rounded text-center">
                <small class="text-muted d-block">Jumlah</small>
                <strong class="text-wood">{{ proyek.jumlah | default: "N/A" }}</strong>
              </div>
            </div>
            <div class="col-6">
              <div class="bg-light p-2 rounded text-center">
                <small class="text-muted d-block">Diameter</small>
                <strong class="text-wood">{{ proyek.diameter | default: "N/A" }}</strong>
              </div>
            </div>
          </div>

          <!-- H5: Hasil dan Keunggulan -->
          <h5 class="h6 fw-bold text-wood mb-2">
            <i class="bi bi-award me-1"></i>Hasil dan Keunggulan
          </h5>
          <p class="small text-muted mb-0">
            <i class="bi bi-check-circle-fill text-success me-1"></i>
            {{ proyek.hasil | default: "Hasil memuaskan dan sesuai ekspektasi" }}
          </p>
        </div>
      </div>
    </div>
    {% endfor %}
  </div>
</div>
{% endif %}

{% if page.studi_kasus_proyek.proyek_residensial %}
<!-- H3: Kategori Proyek Residensial -->
<div class="my-4">
  <div class="d-flex align-items-center mb-3">
    <div class="bg-success bg-opacity-10 px-3 py-2 rounded-3 flex-grow-1">
      <h3 class="h4 mb-0 text-wood fw-bold">
        <i class="bi bi-house-door text-success me-2"></i>Proyek Residensial
      </h3>
      <p class="small text-muted mb-0 mt-1">Aplikasi kayu dolken gelam untuk hunian pribadi dan villa</p>
    </div>
  </div>

  <div class="row g-4">
    {% for proyek in page.studi_kasus_proyek.proyek_residensial %}
    <!-- H4: Project Title -->
    <div class="col-md-6">
      <div class="card border-0 shadow-sm h-100 hover-lift">
        <div class="card-header bg-{{ proyek.warna | default: 'success' }} text-white">
          <div class="d-flex align-items-center">
            <i class="bi {{ proyek.icon | default: 'bi-house-door' }} me-2 fs-1-5rem"></i>
            <div>
              <h4 class="h5 mb-0 fw-bold">{{ proyek.judul }}</h4>
              {% if proyek.tahun %}<small style="opacity: 0.85;">{{ proyek.tahun }}</small>{% endif %}
            </div>
          </div>
        </div>
        <div class="card-body">
          {% if proyek.deskripsi %}
          <p class="small mb-3">{{ proyek.deskripsi }}</p>
          {% endif %}

          <!-- H5: Spesifikasi Proyek -->
          <h5 class="h6 fw-bold text-wood mb-2">
            <i class="bi bi-clipboard-data me-1"></i>Spesifikasi Proyek
          </h5>
          <div class="row g-2 mb-3">
            <div class="col-6">
              <div class="bg-light p-2 rounded text-center">
                <small class="text-muted d-block">Jumlah</small>
                <strong class="text-wood">{{ proyek.jumlah | default: "N/A" }}</strong>
              </div>
            </div>
            <div class="col-6">
              <div class="bg-light p-2 rounded text-center">
                <small class="text-muted d-block">Diameter</small>
                <strong class="text-wood">{{ proyek.diameter | default: "N/A" }}</strong>
              </div>
            </div>
          </div>

          <!-- H5: Hasil dan Keunggulan -->
          <h5 class="h6 fw-bold text-wood mb-2">
            <i class="bi bi-award me-1"></i>Hasil dan Keunggulan
          </h5>
          <p class="small text-muted mb-0">
            <i class="bi bi-check-circle-fill text-success me-1"></i>
            {{ proyek.hasil | default: "Hasil memuaskan dan sesuai ekspektasi" }}
          </p>
        </div>
      </div>
    </div>
    {% endfor %}
  </div>
</div>
{% endif %}

{% if page.studi_kasus_proyek.proyek_publik %}
<!-- H3: Kategori Proyek Publik -->
<div class="my-4">
  <div class="d-flex align-items-center mb-3">
    <div class="bg-info bg-opacity-10 px-3 py-2 rounded-3 flex-grow-1">
      <h3 class="h4 mb-0 text-wood fw-bold">
        <i class="bi bi-signpost-2 text-info me-2"></i>Proyek Publik
      </h3>
      <p class="small text-muted mb-0 mt-1">Aplikasi kayu dolken gelam untuk fasilitas umum dan taman kota</p>
    </div>
  </div>

  <div class="row g-4">
    {% for proyek in page.studi_kasus_proyek.proyek_publik %}
    <!-- H4: Project Title -->
    <div class="col-md-6">
      <div class="card border-0 shadow-sm h-100 hover-lift">
        <div class="card-header bg-{{ proyek.warna | default: 'info' }} text-white">
          <div class="d-flex align-items-center">
            <i class="bi {{ proyek.icon | default: 'bi-signpost-2' }} me-2 fs-1-5rem"></i>
            <div>
              <h4 class="h5 mb-0 fw-bold">{{ proyek.judul }}</h4>
              {% if proyek.tahun %}<small style="opacity: 0.85;">{{ proyek.tahun }}</small>{% endif %}
            </div>
          </div>
        </div>
        <div class="card-body">
          {% if proyek.deskripsi %}
          <p class="small mb-3">{{ proyek.deskripsi }}</p>
          {% endif %}

          <!-- H5: Spesifikasi Proyek -->
          <h5 class="h6 fw-bold text-wood mb-2">
            <i class="bi bi-clipboard-data me-1"></i>Spesifikasi Proyek
          </h5>
          <div class="row g-2 mb-3">
            <div class="col-6">
              <div class="bg-light p-2 rounded text-center">
                <small class="text-muted d-block">Jumlah</small>
                <strong class="text-wood">{{ proyek.jumlah | default: "N/A" }}</strong>
              </div>
            </div>
            <div class="col-6">
              <div class="bg-light p-2 rounded text-center">
                <small class="text-muted d-block">Diameter</small>
                <strong class="text-wood">{{ proyek.diameter | default: "N/A" }}</strong>
              </div>
            </div>
          </div>

          <!-- H5: Hasil dan Keunggulan -->
          <h5 class="h6 fw-bold text-wood mb-2">
            <i class="bi bi-award me-1"></i>Hasil dan Keunggulan
          </h5>
          <p class="small text-muted mb-0">
            <i class="bi bi-check-circle-fill text-success me-1"></i>
            {{ proyek.hasil | default: "Hasil memuaskan dan sesuai ekspektasi" }}
          </p>
        </div>
      </div>
    </div>
    {% endfor %}
  </div>
</div>
{% endif %}

<!-- Consultation CTA -->
<div class="card border-0 shadow-sm my-4">
  <div class="card-body text-center py-4" style="background: linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 100%);">
    <i class="bi bi-chat-left-dots-fill text-wood mb-3 fs-2-5rem"></i>
    <h5 class="fw-bold text-wood mb-2">Butuh Konsultasi untuk Proyek Anda?</h5>
    <p class="text-muted mb-3">Hubungi kami untuk diskusi kebutuhan dan estimasi biaya proyek{% if page.nama_kota %} di {{ page.nama_kota }}{% endif %}</p>
    <a href="https://wa.me/{{ site.business.whatsapp }}?text=Halo,%20saya%20ingin%20konsultasi%20proyek%20kayu%20dolken{% if page.nama_kota %}%20di%20{{ page.nama_kota | url_encode }}{% endif %}" class="btn btn-wood px-4" target="_blank">
      <i class="bi bi-whatsapp me-2"></i>Hubungi {{ site.business.phone }}
    </a>
  </div>
</div>
{% endif %}
