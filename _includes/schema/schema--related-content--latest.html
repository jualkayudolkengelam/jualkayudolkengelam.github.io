{% comment %}
============================================================================
Shared Schema: Related Articles ItemList (Latest)
============================================================================

@file        schema--related-content--latest.html
@path        _includes/schema--related-content--latest.html
@type        Schema (shared component)
@description Reusable ItemList schema for latest related articles display
@author      arisciwek
@version     2.0.0
@date        2025-12-15

This is a shared schema component that provides ItemList structured data
for related articles sections. Uses URL references to avoid creating
multiple Article entities (which would inflate Google Rich Results count).

Parameters:
-----------
- posts: (required) array of post objects to include in list
- raw: (optional) output raw JSON without <script> tags (default: false)

Usage:
------
{% include schema/schema--related-content--latest.html posts=all_related %}

Schema Structure:
-----------------
- ItemList with ListItem items (URL reference only)
- Each item has: position, name, url
- Does NOT create separate Article/BlogPosting entities

============================================================================
{% endcomment %}

{% assign raw_output = include.raw | default: false %}
{% assign posts = include.posts %}

{% unless raw_output %}<script type="application/ld+json">
{% endunless %}{
  "@context": "https://schema.org",
  "@type": "ItemList",
  "@id": "{{ page.url | absolute_url }}#related-articles",
  "name": "Artikel Terkait",
  "description": "Artikel blog terbaru dan lama yang relevan",
  "numberOfItems": {{ posts.size }},
  "itemListElement": [
    {% for post in posts %}
    {
      "@type": "ListItem",
      "position": {{ forloop.index }},
      "name": "{{ post.title | escape }}",
      "url": "{{ post.url | absolute_url }}"
    }{% unless forloop.last %},{% endunless %}
    {% endfor %}
  ]
}{% unless raw_output %}
</script>{% endunless %}
