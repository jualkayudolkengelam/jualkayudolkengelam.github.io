{% comment %}
============================================================================
Block: Testimoni Pengguna Kayu Gelam
============================================================================

@file        block--testimoni-pengguna.html
@path        _includes/posts/block--testimoni-pengguna.html
@type        Content Block
@description Menampilkan testimoni dari pengguna kayu gelam
@usage       {% include posts/block--testimoni-pengguna.html %}

Data yang digunakan dari frontmatter:
- page.testimoni (array of objects)
  - nama: string
  - profesi: string
  - subjudul: string
  - kutipan: string
  - warna: string (bootstrap color variant)

============================================================================
{% endcomment %}

<div class="testimoni-pengguna py-5">
  <div class="container-fluid px-0">

    <!-- H2: Main Section Header -->
    <div class="my-4">
      <div class="card border-0 shadow-lg">
        <div class="card-body text-white text-center py-4 px-3" style="background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 50%, #6d28d9 100%);">
          <i class="bi bi-chat-quote-fill mb-2" style="font-size: 2.5rem;"></i>
          <h2 class="h2 mb-0 fw-bold text-white">Testimoni Pengguna Kayu Gelam</h2>
          <p class="mb-0 mt-2 small" style="opacity: 0.85;">
            <i class="bi bi-star me-1"></i>
            Pengalaman nyata dari pelanggan kami
            <i class="bi bi-star ms-1"></i>
          </p>
        </div>
      </div>
    </div>

    <div class="row g-0">
      <div class="col-12">

        {% if page.testimoni %}
        <div class="row g-3 mt-3">
          {% for item in page.testimoni %}
          <div class="col-lg-12">
            {% assign card_color = item.warna | default: 'primary' %}

            <div class="card border-0 shadow-lg testimoni-card hover-lift position-relative overflow-hidden">

              <!-- Decorative Quote Background -->
              <div class="testimonial-quote-decoration">
                <i class="bi bi-quote text-{{ card_color }}"></i>
              </div>

              <div class="card-body p-4 position-relative">
                <div class="row">

                  <!-- Quote Icon & Badge -->
                  <div class="col-auto">
                    <div class="testimoni-icon-wrapper rounded-3 p-3 shadow-sm" style="background: linear-gradient(135deg,
                      {% if card_color == 'primary' %}#3b82f6 0%, #2563eb 100%{% endif %}
                      {% if card_color == 'success' %}#10b981 0%, #059669 100%{% endif %}
                      {% if card_color == 'warning' %}#f59e0b 0%, #d97706 100%{% endif %}
                      {% if card_color == 'info' %}#0891b2 0%, #0e7490 100%{% endif %}
                      {% if card_color == 'danger' %}#ef4444 0%, #dc2626 100%{% endif %}
                    );">
                      <i class="bi bi-quote text-white" style="font-size: 3rem;"></i>
                    </div>
                  </div>

                  <!-- Testimoni Content -->
                  <div class="col">

                    <!-- Header -->
                    <div class="d-flex align-items-start mb-3">
                      <div class="flex-grow-1">
                        <h3 class="h5 fw-bold mb-1 text-dark">{{ item.nama }}</h3>
                        <p class="text-muted small mb-0">
                          <i class="bi bi-briefcase-fill me-1"></i>{{ item.profesi }}
                        </p>
                      </div>
                      {% if item.subjudul %}
                      <span class="badge text-white ms-3" style="background: linear-gradient(135deg,
                        {% if card_color == 'primary' %}#3b82f6 0%, #2563eb 100%{% endif %}
                        {% if card_color == 'success' %}#10b981 0%, #059669 100%{% endif %}
                        {% if card_color == 'warning' %}#f59e0b 0%, #d97706 100%{% endif %}
                        {% if card_color == 'info' %}#0891b2 0%, #0e7490 100%{% endif %}
                        {% if card_color == 'danger' %}#ef4444 0%, #dc2626 100%{% endif %}
                      );">{{ item.subjudul }}</span>
                      {% endif %}
                    </div>

                    <!-- Quote -->
                    <blockquote class="mb-0">
                      <p class="text-dark fst-italic mb-0 fs-6 lh-lg">
                        "{{ item.kutipan }}"
                      </p>
                    </blockquote>

                  </div>

                </div>
              </div>

              <!-- Rating Footer -->
              <div class="card-footer border-0 py-3" style="background: linear-gradient(135deg,
                {% if card_color == 'primary' %}rgba(59, 130, 246, 0.1) 0%, rgba(37, 99, 235, 0.05) 100%{% endif %}
                {% if card_color == 'success' %}rgba(16, 185, 129, 0.1) 0%, rgba(5, 150, 105, 0.05) 100%{% endif %}
                {% if card_color == 'warning' %}rgba(245, 158, 11, 0.1) 0%, rgba(217, 119, 6, 0.05) 100%{% endif %}
                {% if card_color == 'info' %}rgba(8, 145, 178, 0.1) 0%, rgba(14, 116, 144, 0.05) 100%{% endif %}
                {% if card_color == 'danger' %}rgba(239, 68, 68, 0.1) 0%, rgba(220, 38, 38, 0.05) 100%{% endif %}
              );">
                <div class="d-flex align-items-center justify-content-between">
                  <span class="small text-muted">
                    <i class="bi bi-patch-check-fill text-{{ card_color }} me-1"></i>
                    Testimoni Terverifikasi
                  </span>
                  <div class="rating">
                    <i class="bi bi-star-fill text-{{ card_color }}"></i>
                    <i class="bi bi-star-fill text-{{ card_color }}"></i>
                    <i class="bi bi-star-fill text-{{ card_color }}"></i>
                    <i class="bi bi-star-fill text-{{ card_color }}"></i>
                    <i class="bi bi-star-fill text-{{ card_color }}"></i>
                  </div>
                </div>
              </div>
            </div>

          </div>
          {% endfor %}
        </div>
        {% endif %}

      </div>
    </div>
  </div>
</div>
