---
layout: page
---
{% comment %}
============================================================================
Content Template: Blog Post with Products (node--post-with-product.html)
============================================================================

@file        node--post-with-product.html
@path        _layouts/node--post-with-product.html
@type        Node (content template - variant)
@variant     post-with-product (hybrid posts)
@description Hybrid content template for blog posts with embedded product catalog
@author      arisciwek

Drupal-style naming: node--post-with-product.html (variant of node.html)

This template wraps in page.html and provides hybrid structure combining
blog post content with product recommendations/catalog.

Related templates:
- node.html (base content template - fallback)
- node--page.html (static page content)
- node--post.html (blog post only)
- node--product.html (product detail only)

Used by:
- _post_with_product/*.md (hybrid blog post files)
- Articles about products with embedded catalog (e.g., location-based posts)

Features:
- Breadcrumb navigation
- Hero intro card with gradient styling
- Blog post content rendering
- Embedded product catalog (full or filtered)
- Engagement metrics (likes, comments, shares)
- Related content/articles div
- Schema.org BlogPosting + ItemList markup

Styling:
- Bootstrap classes: container, row, col-lg-8, col-lg-4, py-5
- Hero card with gradient background
- Sidebar layout (content | related products)
- Responsive grid for mobile collapse

Data Expected in Frontmatter:
  ---
  layout: node--post-with-product
  title: Blog Post Title
  description: Post description
  date: 2025-11-17
  author: Author Name
  likes: 127
  comments: 34
  shares: 18
  nama_kota: Semarang (required, for hero location section)
  area_pengiriman:
    - Semarang Tengah
    - Semarang Barat
    - Semarang Timur
  (optional, defaults to "Seluruh wilayah {nama_kota} dan sekitarnya")
  ---

Hierarchy:
page.html (wrapper with header/footer)
└── node--post-with-product.html (this file - hybrid post)
    └── {{ content }} (blog content from _post_with_product/*.md)
        ├── Hero intro card with engagement stats
        ├── Blog post body content
        └── {% include block--product-list.html %} (product catalog)

============================================================================
{% endcomment %}

<!-- Blog Post with Product List -->
<div class="container py-5">
  {% include block--breadcrumb.html
     current_title=page.title
     parent_name="Blog"
     parent_url="/blog"
  %}

  <!-- Article Header -->
  <article class="mb-5">
    <header class="mb-4">
      <h1 class="display-4 fw-bold text-wood mb-3">{{ page.title }}</h1>
      <div class="text-muted mb-3">
        <i class="bi bi-calendar3 me-2"></i>{{ page.date | date: "%d %B %Y" }}
        {% if page.author %}
        <span class="ms-3"><i class="bi bi-person me-2"></i>{{ page.author }}</span>
        {% endif %}
      </div>

      <!-- Engagement Stats -->
      {% if page.like_count or page.comment_count or page.share_count %}
      <div class="engagement-stats mb-3 d-flex align-items-center flex-wrap gap-3">
        {% if page.like_count %}
        <span class="d-flex align-items-center text-muted">
          <i class="bi bi-heart-fill me-1 text-danger"></i>
          <strong class="text-dark">{{ page.like_count }}</strong>
          <span class="ms-1 small">suka</span>
        </span>
        {% endif %}
        {% if page.comment_count %}
        <span class="d-flex align-items-center text-muted">
          <i class="bi bi-chat-fill me-1 text-primary"></i>
          <strong class="text-dark">{{ page.comment_count }}</strong>
          <span class="ms-1 small">komentar</span>
        </span>
        {% endif %}
        {% if page.share_count %}
        <span class="d-flex align-items-center text-muted">
          <i class="bi bi-share-fill me-1 text-success"></i>
          <strong class="text-dark">{{ page.share_count }}</strong>
          <span class="ms-1 small">dibagikan</span>
        </span>
        {% endif %}
      </div>
      {% endif %}
    </header>

    <!-- Featured Image / Gallery Carousel -->
    {% if page.images %}
    <div class="mb-4">
      {% include block--carousel--image.html
         carousel_id="postCarousel"
         images=page.images
         title=page.title
         gallery_name="Galeri Artikel"
         max_height="500px"
      %}
    </div>
    {% elsif page.image %}
    <div class="mb-4">
      <picture>
        <source srcset="{{ page.image | replace: '.jpeg', '.webp' | relative_url }}" type="image/webp">
        <img src="{{ page.image | relative_url }}"
             class="img-fluid rounded shadow w-100"
             alt="{{ page.title }}"
             style="max-height: 500px; object-fit: cover;"
             width="1200"
             height="500"
             loading="eager"
             fetchpriority="high">
      </picture>
    </div>
    {% endif %}

    <!-- Hero Location Section -->
    {% if page.nama_kota %}
    <div id="cari-kayu-dolken-di-{{ page.nama_kota | slugify }}">
      <div class="card border-0 shadow-lg my-4" style="background: linear-gradient(135deg, #ef4444 0%, #dc2626 50%, #b91c1c 100%);">
        <div class="card-body text-white py-4">
          <div class="row align-items-center">
            <div class="col-lg-8">
              <h2 class="h2 fw-bold mb-3">
                <i class="bi bi-geo-alt-fill me-2"></i>Cari Kayu Dolken di {{ page.nama_kota }}?
              </h2>
              <p class="mb-3" style="opacity: 0.95; font-size: 1.05rem;">
                Sedang mencari <strong>jual kayu dolken {{ page.nama_kota }}</strong> dengan harga terbaik dan kualitas terjamin? Kami adalah supplier kayu dolken gelam terpercaya yang melayani seluruh wilayah {{ page.nama_kota }} dengan <strong>pengiriman gratis</strong> dan sistem COD (Cash on Delivery).
              </p>
              <div class="bg-white bg-opacity-10 p-3 rounded mb-3">
                <p class="mb-2" style="opacity: 0.95;">
                  <i class="bi bi-truck me-2"></i>
                  <strong>Melayani Pengiriman ke:</strong>
                </p>
                <p class="mb-0 small" style="opacity: 0.9;">
                  {% if page.area_pengiriman %}
                    {{ page.area_pengiriman | join: ', ' }}
                  {% else %}
                    Seluruh wilayah {{ page.nama_kota }} dan sekitarnya
                  {% endif %}
                </p>
              </div>
              <div class="d-flex flex-wrap gap-2 align-items-center">
                <span class="badge bg-white text-danger px-3 py-2">
                  <i class="bi bi-check-circle-fill me-1"></i>Stok Ready
                </span>
                <span class="badge bg-white text-danger px-3 py-2">
                  <i class="bi bi-lightning-fill me-1"></i>Pengiriman Cepat
                </span>
                <span class="badge bg-white text-danger px-3 py-2">
                  <i class="bi bi-cash-coin me-1"></i>Harga Kompetitif
                </span>
              </div>
            </div>
            <div class="col-lg-4 text-center mt-4 mt-lg-0">
              <div class="bg-white p-4 rounded shadow-lg">
                <i class="bi bi-telephone-fill text-danger mb-3" style="font-size: 3rem;"></i>
                <h4 class="h5 fw-bold text-danger mb-2">Hubungi Kami Sekarang!</h4>
                <p class="h3 fw-bold text-dark mb-3">{{ site.business.phone }}</p>
                <a href="https://wa.me/{{ site.business.whatsapp }}?text=Halo,%20saya%20ingin%20pesan%20kayu%20dolken%20untuk%20{{ page.nama_kota | url_encode }}"
                   class="btn btn-success btn-lg w-100 shadow-sm"
                   target="_blank">
                  <i class="bi bi-whatsapp me-2"></i>Chat WhatsApp
                </a>
                <p class="small text-muted mt-2 mb-0">
                  <i class="bi bi-clock-fill me-1"></i>Respon cepat 24/7
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    {% endif %}

    <!-- Article Content -->
    <div id="article-content" class="post-content mb-5">
      {{ content }}
    </div>

    <!-- Related Products Section (Part of article content) -->
    <div id="related-products" class="article-related-products mt-5">
      {% include block--related-product-last-modified.html %}
    </div>
  </article>


  <!-- CTA Section -->
  <div id="cta-konsultasi" class="cta-div mt-5">
    <div class="card border-0 bg-wood text-white shadow-lg">
      <div class="card-body p-5 text-center">
        <h2 class="h3 mb-3">Butuh Konsultasi?</h2>
        <p class="lead mb-4">Hubungi kami untuk informasi lebih lanjut, cek stok, atau penawaran khusus!</p>
        <div class="d-grid gap-2 d-md-flex justify-content-md-center">
          <a href="https://wa.me/{{ site.business.whatsapp }}?text=Halo,%20saya%20ingin%20konsultasi%20produk%20kayu%20dolken" class="btn btn-success btn-lg px-5" target="_blank">
            <i class="bi bi-whatsapp me-2"></i>Chat WhatsApp
          </a>
          <a href="tel:{{ site.business.phone }}" class="btn btn-outline-light btn-lg px-5">
            <i class="bi bi-telephone me-2"></i>{{ site.business.phone }}
          </a>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Schema.org Article Markup -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Article",
  "headline": "{{ page.title }}",
  "description": "{{ page.description | strip_html | strip_newlines | escape }}",
  "url": "{{ page.url | absolute_url }}",
  "image": "{% if page.images %}{{ page.images[0] | absolute_url }}{% elsif page.image %}{{ page.image | absolute_url }}{% endif %}",
  "datePublished": "{{ page.date | date_to_xmlschema }}",
  "dateModified": "{% if page.last_modified_at %}{{ page.last_modified_at | date_to_xmlschema }}{% else %}{{ page.date | date_to_xmlschema }}{% endif %}",
  "author": {
    "@type": "Person",
    "name": "{% if page.author %}{{ page.author }}{% else %}Admin{% endif %}"{% if page.author_url %},
    "url": "{{ page.author_url }}"{% endif %}
  },
  "publisher": {
    "@type": "Organization",
    "name": "{{ site.business.name }}",
    "logo": {
      "@type": "ImageObject",
      "url": "{{ '/assets/images/jual-kayu-dolken-gelam-lokalbisnis-001.jpeg' | absolute_url }}"
    }
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "{{ page.url | absolute_url }}"
  }
}
</script>

<!-- Initialize Carousel -->
{% if page.images %}
<script>
document.addEventListener('DOMContentLoaded', function() {
  var carouselElement = document.getElementById('postCarousel');
  if (carouselElement && typeof bootstrap !== 'undefined') {
    // Initialize carousel manually
    var carousel = new bootstrap.Carousel(carouselElement, {
      interval: 3000,
      ride: 'carousel',
      pause: 'hover',
      wrap: true,
      keyboard: true,
      touch: true
    });
  }
});
</script>
{% endif %}
