---
layout: page--post
---
{% comment %}
============================================================================
Content Template: Blog Post with City (node--post-with-city.html)
============================================================================

@file        node--post-with-city.html
@path        _layouts/node--post-with-city.html
@type        Node (content template - variant)
@variant     post-with-city (city posts)
@description Content template for blog posts with city-specific information
@author      arisciwek

Drupal-style naming: node--post-with-city.html (variant of node.html)

This template wraps in page--post.html and provides structure combining
blog post content with city-specific information.

Related templates:
- node.html (base content template - fallback)
- node--page.html (static page content)
- node--post.html (blog post only)
- node--product.html (product detail only)

Used by:
- _post_with_city/*.md (city blog post files)
- Articles about city-specific content (e.g., location-based posts)

Features:
- Breadcrumb navigation
- Hero intro card with gradient styling
- Blog post content rendering
- City-specific content sections
- Engagement metrics (likes, comments, shares)
- Related content/articles div
- Schema.org BlogPosting markup

Styling:
- Bootstrap classes: container, row, col-lg-8, col-lg-4, py-5
- Hero card with gradient background
- Sidebar layout (content | related products)
- Responsive grid for mobile collapse

Data Expected in Frontmatter:
  ---
  layout: node--post-with-city
  title: Blog Post Title
  description: Post description
  date: 2025-11-17
  author: Author Name
  likes: 127
  comments: 34
  shares: 18
  nama_kota: Semarang (required, for hero location section)
  area_pengiriman:
    - Semarang Tengah
    - Semarang Barat
    - Semarang Timur
  (optional, defaults to "Seluruh wilayah {nama_kota} dan sekitarnya")
  ---

Hierarchy:
page.html (wrapper with header/footer)
└── node--post-with-city.html (this file - city post)
    └── {{ content }} (blog content from _post_with_city/*.md)
        ├── Hero intro card with engagement stats
        ├── Blog post body content
        └── CTA section

============================================================================
{% endcomment %}

<!-- Blog Post with Product List -->
<article class="post-content py-5">
  <div class="container-fluid">
    <div class="row justify-content-center">
      <div class="col-11 col-xl-10">
        <div class="row">
          <!-- Main Content Area -->
          <div class="col-12 col-lg-8 col-xl-9">

  {% include reusable/block--breadcrumb.html
     current_title=page.title
     parent_name="Blog"
     parent_url="/blog"
  %}

  <!-- Post Header -->
  <header class="post-header mb-4">
    <h1 class="post-title display-5 fw-bold text-wood mb-3">{{ page.title }}</h1>

    <div class="post-meta text-muted mb-3">
      <span class="me-3">
        <i class="bi bi-calendar3 me-1"></i>
        <time datetime="{{ page.date | date_to_xmlschema }}">
          {{ page.date | date: "%d %B %Y" }}
        </time>
      </span>
      {% if page.author %}
      <span class="me-3">
        <i class="bi bi-person me-1"></i>{{ page.author }}
      </span>
      {% endif %}
    </div>

    <!-- Engagement Stats -->
    {% if page.rating or page.like_count or page.comment_count or page.share_count %}
    <div class="engagement-stats mb-3 d-flex align-items-center flex-wrap gap-3">
      {% if page.rating %}
      <span class="d-flex align-items-center text-muted">
        <i class="bi bi-star-fill me-1 text-warning"></i>
        <strong class="text-dark">{{ page.rating }}</strong>
        <span class="ms-1 small">({{ page.review_count | default: 0 }} review)</span>
      </span>
      {% endif %}
      {% if page.like_count %}
      <span class="d-flex align-items-center text-muted">
        <i class="bi bi-heart-fill me-1 text-danger"></i>
        <strong class="text-dark">{{ page.like_count }}</strong>
        <span class="ms-1 small">suka</span>
      </span>
      {% endif %}
      {% if page.comment_count %}
      <span class="d-flex align-items-center text-muted">
        <i class="bi bi-chat-fill me-1 text-primary"></i>
        <strong class="text-dark">{{ page.comment_count }}</strong>
        <span class="ms-1 small">komentar</span>
      </span>
      {% endif %}
      {% if page.share_count %}
      <span class="d-flex align-items-center text-muted">
        <i class="bi bi-share-fill me-1 text-success"></i>
        <strong class="text-dark">{{ page.share_count }}</strong>
        <span class="ms-1 small">dibagikan</span>
      </span>
      {% endif %}
    </div>
    {% endif %}

    <!-- Featured Image / Gallery Carousel -->
    {% if page.images %}
    <div class="post-image mb-4">
      {% include reusable/block--carousel--image.html
         carousel_id="postCarousel"
         images=page.images
         title=page.title
         gallery_name="Galeri Artikel"
         max_height="500px"
      %}
    </div>
    {% elsif page.image %}
    <div class="post-image mb-4">
      <picture>
        <source srcset="{{ page.image | replace: '.jpeg', '.webp' | relative_url }}" type="image/webp">
        <img src="{{ page.image | relative_url }}"
             class="img-fluid rounded shadow"
             alt="{{ page.title }}"
             style="max-height: 500px; object-fit: cover; width: 100%;"
             width="1200"
             height="500"
             loading="eager"
             fetchpriority="high">
      </picture>
    </div>
    {% endif %}
  </header>

  <!-- Post Body -->
  <div class="post-body mb-5">
    {{ content }}
  </div>

  <!-- Post Footer -->
  <footer class="post-footer mt-5 pt-4 border-top">
    <!-- Share Buttons -->
    <div class="share-buttons">
      <h5 class="h6 mb-3">Bagikan Artikel Ini:</h5>
      <a href="https://wa.me/?text={{ page.title | uri_escape }}%20{{ page.url | absolute_url | uri_escape }}"
         target="_blank"
         class="btn btn-success btn-sm me-2 mb-2">
        <i class="bi bi-whatsapp me-1"></i> WhatsApp
      </a>
      <a href="https://www.facebook.com/sharer/sharer.php?u={{ page.url | absolute_url | uri_escape }}"
         target="_blank"
         class="btn btn-primary btn-sm me-2 mb-2">
        <i class="bi bi-facebook me-1"></i> Facebook
      </a>
      <a href="https://twitter.com/intent/tweet?text={{ page.title | uri_escape }}&url={{ page.url | absolute_url | uri_escape }}"
         target="_blank"
         class="btn btn-info btn-sm me-2 mb-2 text-white">
        <i class="bi bi-twitter me-1"></i> Twitter
      </a>
    </div>
  </footer>

  <!-- CTA Section -->
  <div id="cta-konsultasi" class="cta-div mt-5">
    <div class="card border-0 bg-wood text-white shadow-lg">
      <div class="card-body p-5 text-center">
        <h2 class="h3 mb-3">Butuh Konsultasi?</h2>
        <p class="lead mb-4">Hubungi kami untuk informasi lebih lanjut, cek stok, atau penawaran khusus!</p>
        <div class="d-grid gap-2 d-md-flex justify-content-md-center">
          <a href="https://wa.me/{{ site.business.whatsapp }}?text=Halo,%20saya%20ingin%20konsultasi%20produk%20kayu%20dolken" class="btn btn-success btn-lg px-5" target="_blank">
            <i class="bi bi-whatsapp me-2"></i>Chat WhatsApp
          </a>
          <a href="tel:{{ site.business.phone }}" class="btn btn-outline-light btn-lg px-5">
            <i class="bi bi-telephone me-2"></i>{{ site.business.phone }}
          </a>
        </div>
      </div>
    </div>
  </div>

      </div>
      <!-- End Main Content Area -->

      <!-- Sidebar Area -->
      <aside class="col-12 col-lg-4 col-xl-3 mt-5 mt-lg-0">
        <div class="sidebar-sticky" style="position: sticky; top: 80px; max-height: calc(100vh - 100px); overflow-y: auto;">

          <!-- Table of Contents Widget -->
          <div class="card border-0 shadow-sm mb-4 sidebar-toc-widget">
            <div class="card-body">
              <h3 class="h5 fw-bold text-wood mb-0">
                <button class="btn btn-link text-decoration-none p-0 d-flex align-items-center justify-content-between w-100 text-start"
                        type="button"
                        data-bs-toggle="collapse"
                        data-bs-target="#tocCollapse"
                        aria-expanded="false"
                        aria-controls="tocCollapse">
                  <span>
                    <i class="bi bi-list-ul text-primary me-2"></i>Daftar Isi
                  </span>
                  <i class="bi bi-chevron-down text-muted"></i>
                </button>
              </h3>
              <div class="collapse" id="tocCollapse">
                <nav id="sidebar-toc" class="sidebar-toc mt-3">
                  <!-- ToC will be auto-generated by JS -->
                </nav>
              </div>
            </div>
          </div>

          <!-- Popular Posts Widget -->
          <div class="card border-0 shadow-sm mb-4 sidebar-popular-widget">
            <div class="card-body">
              <h3 class="h5 fw-bold text-wood mb-3">
                <i class="bi bi-fire text-danger me-2"></i>Artikel Populer
              </h3>
              <div class="list-group list-group-flush">
                {% assign popular_posts = site.posts | where_exp: "post", "post.like_count" | sort: "like_count" | reverse | limit: 5 %}
                {% for post in popular_posts %}
                <a href="{{ post.url | relative_url }}" class="list-group-item list-group-item-action border-0 px-0 py-3">
                  <div class="d-flex align-items-start">
                    {% if post.image %}
                    <img src="{{ post.image | relative_url }}" alt="{{ post.title }}" class="rounded me-3" style="width: 60px; height: 60px; object-fit: cover;">
                    {% endif %}
                    <div class="flex-grow-1">
                      <h6 class="mb-1 fw-semibold small">{{ post.title | truncate: 50 }}</h6>
                      <small class="text-muted d-flex align-items-center gap-2">
                        {% if post.rating %}
                        <span>
                          <i class="bi bi-star-fill text-warning me-1"></i>{{ post.rating }}
                        </span>
                        {% endif %}
                        {% if post.like_count %}
                        <span>
                          <i class="bi bi-heart-fill text-danger me-1"></i>{{ post.like_count }}
                        </span>
                        {% endif %}
                      </small>
                    </div>
                  </div>
                </a>
                {% endfor %}
              </div>
            </div>
          </div>

          <!-- Categories Widget -->
          <div class="card border-0 shadow-sm mb-4 sidebar-categories-widget">
            <div class="card-body">
              <h3 class="h5 fw-bold text-wood mb-3">
                <i class="bi bi-folder text-primary me-2"></i>Kategori
              </h3>
              <div class="d-flex flex-wrap gap-2">
                {% assign categories = site.posts | map: 'category' | uniq | compact %}
                {% for category in categories %}
                <a href="{{ site.baseurl }}/blog/kategori/{{ category | slugify }}" class="badge bg-secondary text-decoration-none">
                  {{ category }}
                </a>
                {% endfor %}
              </div>
            </div>
          </div>

          <!-- CTA Widget -->
          <div class="card border-0 shadow-sm sidebar-cta-widget" style="background: linear-gradient(135deg, #10b981 0%, #059669 100%);">
            <div class="card-body text-white text-center p-4">
              <i class="bi bi-chat-dots-fill fs-1 mb-3 d-block"></i>
              <h3 class="h5 fw-bold mb-2">Butuh Bantuan?</h3>
              <p class="small mb-3">Hubungi kami untuk konsultasi gratis</p>
              <a href="https://wa.me/{{ site.business.whatsapp }}" target="_blank" class="btn btn-light btn-sm">
                <i class="bi bi-whatsapp me-1"></i> Chat Sekarang
              </a>
            </div>
          </div>

        </div>
      </aside>
      <!-- End Sidebar Area -->

        </div>
      </div>
    </div>
  </div>
</article>

<!-- Initialize Carousel -->
{% if page.images %}
<script src="{{ '/assets/js/carousel.js' | relative_url }}" defer></script>
{% endif %}
